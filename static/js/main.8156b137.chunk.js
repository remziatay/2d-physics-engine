(this["webpackJsonp2d-physics-engine"]=this["webpackJsonp2d-physics-engine"]||[]).push([[0],{27:function(t,e,i){t.exports={Form:"Controls_Form__3uzhr",Legend:"Controls_Legend__3h88a",Button:"Controls_Button__XT8Fb"}},72:function(t,e,i){},73:function(t,e,i){},78:function(t,e,i){"use strict";i.r(e);var n=i(1),s=i(0),a=i.n(s),r=i(63),o=i.n(r),c=(i(72),i(44)),l=(i(73),i(10)),h=i(8),u=i(48),v=function(){function t(e,i){var n=this,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(l.a)(this,t),this.engine=Object(u.a)((function(){if(n.on){n.clear(),n.physics.removeRedundantShapes(),n.physics.checkCollisions(),n.physics.shapes.forEach((function(t){n.on&&t.update(.06),t.draw(n.physics.ctx)})),n.engine()}})),this.fpsSample=[],s&&this.start(),this.physics=e,this.clear=i}return Object(h.a)(t,[{key:"start",value:function(){this.on||(this.on=!0,this.engine())}},{key:"stop",value:function(){this.engine.cancel(),this.on=!1}}]),t}(),d=i(45),y=function(){function t(e,i){Object(l.a)(this,t),this.x=e,this.y=i}return Object(h.a)(t,[{key:"copy",value:function(){return new t(this.x,this.y)}},{key:"equals",value:function(t){return!!t&&(this.x===t.x&&this.y===t.y)}},{key:"add",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?i?(this.x+=e.x,this.y+=e.y,this):new t(this.x+e.x,this.y+e.y):i?this:this.copy()}},{key:"sub",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?i?(this.x-=e.x,this.y-=e.y,this):new t(this.x-e.x,this.y-e.y):i?this:this.copy()}},{key:"multiply",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||0===e?i?(this.x=Number.isFinite(this.x)?Number.isFinite(e)?this.x*e:e:this.x,this.y=Number.isFinite(this.y)?Number.isFinite(e)?this.y*e:e:this.y,this):new t(Number.isFinite(this.x)?Number.isFinite(e)?this.x*e:e:this.x,Number.isFinite(this.y)?Number.isFinite(e)?this.y*e:e:this.y):i?this:this.copy()}},{key:"div",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||0===e?i?(this.x/=e,this.y/=e,this):new t(this.x/e,this.y/e):i?this:this.copy()}},{key:"normalize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.x*this.x+this.y*this.y;return i?this.div(Math.sqrt(i),e):e?this:new t(0,0)}},{key:"dot",value:function(t){return!!t&&this.x*t.x+this.y*t.y}},{key:"cross",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"number"===typeof e?i?new t(-e*this.y,e*this.x):new t(e*this.y,-e*this.x):!!e&&this.x*e.y-this.y*e.x}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?(this.x=-this.x,this.y=-this.y,this):new t(-this.x,-this.y)}},{key:"flip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?(this.x=this.y,this.y=this.x,this):new t(this.y,this.y)}},{key:"rotate",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return n?this:this.copy();var s=Math.cos(e),a=Math.sin(e),r=i.x+s*(this.x-i.x)-a*(this.y-i.y),o=i.y+a*(this.x-i.x)+s*(this.y-i.y);return n?(this.x=r,this.y=o,this):new t(r,o)}},{key:"length",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"sqrLength",get:function(){return this.x*this.x+this.y*this.y}}],[{key:"rotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};if(t&&t.length&&e){var n=Math.cos(e),s=Math.sin(e);t.forEach((function(t){var e=i.x+n*(t.x-i.x)-s*(t.y-i.y),a=i.y+s*(t.x-i.x)+n*(t.y-i.y);t.x=e,t.y=a}))}}},{key:"ZERO",get:function(){return new t(0,0)}},{key:"ONE",get:function(){return new t(1,1)}}]),t}(),m=function(){function t(){Object(l.a)(this,t)}return Object(h.a)(t,[{key:"supportPoint",value:function(t,e){for(var i={vertex:t.vertices[0],distance:-1/0},n=0;n<t.vCount;n++){var s=t.vertices[n],a=s.dot(e);a>i.distance&&(i={vertex:s,distance:a})}return i.vertex}},{key:"getFace",value:function(t,e){return{a:t.vertices[e],b:t.vertices[(e+1)%t.vCount],normal:t.normals[e]}}},{key:"leastPenetrationFace",value:function(t,e){t.calcNormals(),e.calcNormals();for(var i=0,n=1/0,s=0;s<t.vCount;s++){var a=t.vertices[s],r=t.normals[s],o=this.supportPoint(e,r.multiply(-1)),c=r.multiply(-1).dot(o.sub(a));c<n&&(n=c,i=s)}return{faceIndex:i,minPen:n}}},{key:"clipPointsBelow",value:function(t,e){var i=t.normal.dot(e[0])-t.normal.dot(t.a),n=t.normal.dot(e[1])-t.normal.dot(t.a),s=[y.ZERO,y.ZERO],a=0;if(i<=0&&(s[a++]=e[0]),n<=0&&(s[a++]=e[1]),2===a)return{clipped:s,clipCount:a};if(i*n<0){var r=i/(i-n);s[a++]=e[0].add(e[1].sub(e[0]).multiply(r))}return{clipped:s,clipCount:a}}},{key:"incidentFace",value:function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=1/0,s=-1,a=0;a<t.vCount;a++)if(!i.includes(a)){var r=t.normals[a].dot(e);r<n&&(n=r,s=a)}return{a:t.vertices[s],b:t.vertices[(s+1)%t.vCount],normal:t.normals[s],indices:[].concat(Object(d.a)(i),[s])}}},{key:"collide",value:function(t,e){var i=this.leastPenetrationFace(t,e),n=i.faceIndex,s=i.minPen;if(!(s<=0)){var a=this.leastPenetrationFace(e,t),r=a.faceIndex,o=a.minPen;if(!(o<=0)){var c,l,h,u;o>=.95*s+.01*o?(l=n,h=e,u=(c=t).normals[l]):(l=r,h=t,u=(c=e).normals[l].multiply(-1));var v=this.getFace(c,l),d=[],y={indices:[]};t:for(;0===d.length;){if(!(y=this.incidentFace(h,v.normal,y.indices)).normal){var m=v.normal.dot(c.center)-v.normal.dot(v.a);d.push({position:c.center,penetration:-m,normal:u,tangent:u.cross(1)});break}for(var b=[y.a,y.b],x=0,p=[(l+1)%c.vCount,(l+c.vCount-1)%c.vCount];x<p.length;x++){var f=p[x],j=this.getFace(c,f),g=this.clipPointsBelow(j,b),O=g.clipped;if(g.clipCount<2)continue t;b=O}b.forEach((function(i){var n=v.normal.dot(i)-v.normal.dot(v.a);n<0&&d.push({polygon:t,other:e,position:i,penetration:-n,normal:u,tangent:u.cross(1)})}))}return d}}}}]),t}(),b=function(){function t(e){Object(l.a)(this,t),this.shapes=[],this.shapeCount=0,this.g=0,this.polyPoly=new m,this.ctx=e.getContext("2d"),this.width=e.width,this.height=e.height}return Object(h.a)(t,[{key:"addShapes",value:function(t){var e=this;t.forEach((function(t){e.shapes.push(t)})),this.shapeCount+=t.length}},{key:"removeRedundantShapes",value:function(){var t=this;this.shapes=this.shapes.filter((function(e){var i=e.center,n=e.v,s=e.gravity;return!(i.x<-500&&n.x<0)&&(!(i.x>2600&&n.x>0)&&(!(i.y<-500&&n.y<=0&&(!s||t.g<=0))&&!(i.y>4500&&n.y>=0&&(!s||t.g>=0))))})),this.shapeCount=this.shapes.length}},{key:"setGravity",value:function(t){var e=this;t-this.g&&this.shapes.forEach((function(i){return i.a.y+=t-e.g})),this.g=t}},{key:"resolveContacts",value:function(t){if(t&&t.length){t.sort((function(t,e){return e.penetration-t.penetration}));var e=t[0];if(t.length>1&&t[0].penetration-t[1].penetration<.05){var i=t[0],n=i.polygon,s=i.other,a=i.position,r=t[1].position,o=n.getVelocityAtPoint(a).sub(s.getVelocityAtPoint(a)),c=n.getVelocityAtPoint(r).sub(s.getVelocityAtPoint(r)),l=o.length,h=c.length;e.position=a.multiply(l).add(r.multiply(h)).div(l+h),e.relativeVelocity=o.add(c).multiply(.5)}var u=e.polygon,v=e.other,d=e.position,m=e.normal,b=e.tangent,x=u.getVelocityAtPoint(d).sub(v.getVelocityAtPoint(d)),p=x.dot(m);if(x.dot(m)<0)return!0;var f=d.sub(u.center),j=d.sub(v.center),g=-1.2*p/(u.invMass+v.invMass+u.invInertia*Math.pow(f.cross(m),2)+v.invInertia*Math.pow(j.cross(m),2));if(!Number.isFinite(g))return!0;var O=m.multiply(1.05*g);b=x.sub(m.multiply(x.dot(m))).normalize();var w,k=-x.dot(b)/(u.invMass+v.invMass+u.invInertia*Math.pow(f.cross(b),2)+v.invInertia*Math.pow(j.cross(b),2));w=Math.abs(x.dot(b))<1e-4?y.ZERO:Math.abs(k)<Math.abs(g)?b.multiply(k):b.multiply(g),u.applyImpulse(O,d),v.applyImpulse(O.negative(),d),u.applyImpulse(w,d),v.applyImpulse(w.negative(),d)}}},{key:"positionalCorrection",value:function(t){var e=t[0],i=e.polygon,n=e.other,s=e.normal,a=e.penetration,r=s.multiply(Math.max(a-.05,0)/(i.invMass+n.invMass)*.2);0!==i.invMass&&i.move(r.multiply(-i.invMass)),0!==n.invMass&&n.move(r.multiply(n.invMass))}},{key:"checkCollisions",value:function(){for(var t=this,e=[],i=0;i<this.shapeCount;i++)for(var n=this.shapes[i],s=i+1;s<this.shapeCount;s++){var a=this.shapes[s],r=this.polyPoly.collide(n,a);r&&e.push(r)}e.forEach((function(e){for(var i=0;i<10&&!t.resolveContacts(e);i++);t.positionalCorrection(e)}))}},{key:"lineIntersection",value:function(t,e,i,n){var s=t.x,a=t.y,r=e.x,o=e.y,c=i.x,l=i.y,h=n.x,u=n.y,v=(s-r)*(l-u)-(a-o)*(c-h);if(!v)return null;var d={},y=1e-6;return d.x=((s*o-a*r)*(c-h)-(s-r)*(c*u-l*h))/v,d.x+y<Math.min(s,r)||d.x-y>Math.max(s,r)||d.x+y<Math.min(c,h)||d.x-y>Math.max(c,h)?null:(d.y=((s*o-a*r)*(l-u)-(a-o)*(c*u-l*h))/v,d.y+y<Math.min(a,o)||d.y-y>Math.max(a,o)||d.y+y<Math.min(l,u)||d.y-y>Math.max(l,u)?null:d)}},{key:"polygonCollision",value:function(t,e){var i=t.vertices,n=e.vertices,s=[];this.colls[0].change({center:{x:-50}});for(var a=0;a<i.length;a++)for(var r=i[a],o=i[a+1]||i[0],c=0;c<n.length;c++){var l=n[c],h=n[c+1]||n[0],u=this.lineIntersection(r,o,l,h);u&&s.push(u)}if(!s.length)return!1;var v=s.reduce((function(t,e){return t+e.x}),0)/s.length,d=s.reduce((function(t,e){return t+e.y}),0)/s.length;return t.v.y*=-1,e.v.y*=-1,{x:v,y:d}}},{key:"isCollision",value:function(t,e){var i={};return i[t.constructor.name]=[t],i[e.constructor.name]=i[e.constructor.name]?[t,e]:[e],i.Circle?this.rectCircleCollision.apply(this,Object(d.a)(i.Rectangle).concat(Object(d.a)(i.Circle))):this.polygonCollision(t,e)}},{key:"rectCircleCollision",value:function(t,e){var i=t.x,n=t.y,s=t.w,a=t.h,r=e.x,o=e.y,c=e.r,l=r,h=o;return r<i?l=i:r>i+s&&(l=i+s),o<n?h=n:o>n+a&&(h=n+a),Math.pow(r-l,2)+Math.pow(o-h,2)<=Math.pow(c,2)}}],[{key:"gravity",get:function(){return new y(0,10)}}]),t}(),x=function(){function t(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(l.a)(this,t),this.ctx=e.getContext("2d"),this.physics=new b(e,n),this.engine=new v(this.physics,(function(){return i.ctx.clearRect(0,0,e.width,e.height)}))}return Object(h.a)(t,[{key:"addShapes",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.physics.addShapes(e)}}]),t}(),p=i(12),f=function(){function t(){Object(l.a)(this,t)}return Object(h.a)(t,null,[{key:"radToDeg",value:function(t){return t*(180/Math.PI)}},{key:"degToRad",value:function(t){return t*(Math.PI/180)}},{key:"drawVector",value:function(t,e,i){t.globalCompositeOperation="source-over",t.beginPath(),t.lineWidth=2,t.strokeStyle="#"+Math.floor(16777215*Math.random()).toString(16),t.moveTo(i.x,i.y),t.lineTo(i.x+e.x,i.y+e.y),t.stroke(),t.globalCompositeOperation="destination-over"}}]),t}(),j=function(){function t(e){var i=e.vertices,n=e.vCount,s=e.center,a=e.size,r=e.angle,o=e.color,c=e.mass,h=e.inertia,u=e.density,v=e.v,d=e.a,m=e.kinetic,b=e.gravity;if(Object(l.a)(this,t),void 0!==u&&void 0!==c)throw new Error("Shouldn't give both density and mass!");if(u||c||(u=1),i)this.vCount=i.length,this.vertices=i;else{if(!s||!n)throw new Error("Can't create polygon without vertices or center and vertex count!");this.center=new y(s.x,s.y),this.vCount=n,this.vertices=function(t){t-=90+(n%2?0:180/n),a=a||1;for(var e=[],i=f.degToRad(t),r=0;r<n;r++)e.push(new y(s.x+a*Math.cos(i+2*r*Math.PI/n),s.y+a*Math.sin(i+2*r*Math.PI/n)));return e}(r||0)}this.mass=c,this.inertia=h,this.density=u,this.initialize(),this.kinetic=void 0===m||m,this.gravity=void 0===b||b,this.angle=f.degToRad(r||0),this.staticFriction=.8,this.dynamicFriction=.8,this.restitution=.2,this.calcNormals(),v=Object(p.a)({x:0,y:0,r:0},v),d=Object(p.a)({x:0,y:0,r:0},d),this.v=new y(v.x,v.y),this.dv=new y(d.x,d.y),this.w=f.degToRad(v.r),this.dw=f.degToRad(d.r),this.color=o||"#"+Math.floor(16777215*Math.random()).toString(16)}return Object(h.a)(t,[{key:"initialize",value:function(){for(var t=this.vertices,e=this.vCount,i=[0,0,y.ZERO],n=i[0],s=i[1],a=i[2],r=0;r<e;r++){var o=t[r],c=t[(r+1)%e],l=o.cross(c),h=o.add(c).div(3),u=l/2,v=u*(o.sqrLength+o.dot(c)+c.sqrLength);a=a.multiply(n).add(h.multiply(u)).div(n+u),n+=u,s+=v}s/=6,this.center||(this.center=a),this.density?void 0===this.mass&&(this.mass=this.density*n):this.density=this.mass/n,s*=this.density,s-=this.mass*this.center.sqrLength,void 0===this.inertia&&(this.inertia=s||1/0),this.invInertia=this.inertia&&1/this.inertia,this.invMass=this.mass&&1/this.mass}},{key:"change",value:function(t){var e=t.center,i=(t.angle,t.vCount,t.size,t.color,t.mass,t.v),n=t.a;t.kinetic;for(var s in this.center=new y(e.x,e.y),this.v=Object(p.a)(Object(p.a)({},this.v),i),this.a=Object(p.a)(Object(p.a)({},this.a),n),arguments[0])Object.prototype.hasOwnProperty.call(arguments[0],s)&&"object"!=typeof this[s]&&(this[s]=arguments[0][s])}},{key:"calcNormals",value:function(){if(this.normals)return this.normals;for(var t=[],e=0;e<this.vCount;e++){var i=(e+1)%this.vCount,n=this.vertices[i].sub(this.vertices[e]);t.push(n.normalize().cross(1))}this.normals=t}},{key:"rotate",value:function(t){t&&(y.rotate(this.vertices,t,this.center),this.angle+=t,this.normals=null)}},{key:"draw",value:function(t){var e=this.vertices;t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<this.vCount;i++)t.lineTo(e[i].x,e[i].y);t.lineTo(e[0].x,e[0].y),t.stroke(),t.fillStyle=this.color,t.fill()}},{key:"move",value:function(t){this.center.add(t,!0),this.vertices.forEach((function(e){e.add(t,!0)}))}},{key:"moveTo",value:function(t){var e=t.sub(this.center);this.move(e),this.v=y.ZERO}},{key:"update",value:function(t){if(this.kinetic){var e=this.v,i=this.dv,n=this.w,s=this.dw;this.gravity&&i.add(b.gravity,!0),e.x<.001&&e.x>-.001&&(e.x=0),e.y<.001&&e.y>-.001&&(e.y=0),(n||s)&&this.rotate((n+s/2*t)*t),(e.x||e.y||i.x||i.y)&&this.move(e.add(i.multiply(t/2)).multiply(t)),e.add(i.multiply(t),!0),this.w+=s*t,i.x=0,i.y=0,this.dw=0}}},{key:"getVelocityAtPoint",value:function(t){var e=t.sub(this.center).cross(this.w,!0);return this.v.add(e)}},{key:"applyForce",value:function(t,e){if(this.kinetic){var i=e.sub(this.center);this.dv.add(t.multiply(this.invMass),!0),this.dw+=i.cross(t)*this.invInertia}}},{key:"applyImpulse",value:function(t,e){if(this.kinetic){var i=e.sub(this.center);this.v.add(t.multiply(this.invMass),!0),this.w+=i.cross(t)*this.invInertia}}}]),t}(),g=function(t){var e=t.setWorld,i=Object(s.useRef)();return Object(s.useEffect)((function(){var t=i.current;function n(){t.width=t.clientWidth,t.height=t.clientHeight}window.addEventListener("resize",n,!1),n();var s=new x(t,10);e(s);var a=new j({center:new y(100,100),mass:1/0,v:{r:80},vCount:3,size:80,kinetic:!0,gravity:!1}),r=new j({center:new y(t.width-100,100),mass:1/0,v:{r:80},vCount:3,size:80,kinetic:!0,gravity:!1}),o=2/3,c=new j({center:{x:t.width/2,y:t.height+t.width/2*o-50},mass:1/0,inertia:1/0,vCount:4,size:Math.hypot(t.width,t.width)/2*o,kinetic:!1}),l=new j({center:{x:200,y:250},angle:180,v:{x:15,y:200},vCount:13,size:80,kinetic:!0});s.addShapes(a,r,c,l);var h=function(t){return t.preventDefault()};return t.addEventListener("contextmenu",h),function(){window.removeEventListener("resize",n),t.removeEventListener("contextmenu",h),s.engine.stop()}}),[e]),Object(n.jsx)("canvas",{ref:i,className:"block border border-gray-500 rounded-sm w-full h-full min-w-0 bg-gray-100"})},O=i(2),w=i(7),k=function(t){var e=t.width,i=void 0===e?24:e,s=t.height,a=void 0===s?24:s;return Object(n.jsxs)("svg",{className:"mx-auto",width:i,height:a,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"currentColor"}),Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.5523 3 13 3.44772 13 4V5.07089C16.0657 5.5094 18.4906 7.93431 18.9291 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H18.9291C18.4906 16.0657 16.0657 18.4906 13 18.9291V20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20V18.9291C7.93431 18.4906 5.5094 16.0657 5.07089 13H4C3.44772 13 3 12.5523 3 12C3 11.4477 3.44772 11 4 11H5.07089C5.5094 7.93431 7.93431 5.5094 11 5.07089V4C11 3.44772 11.4477 3 12 3ZM7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12Z",fill:"currentColor"})]})},C=i(27),M=i.n(C),F={lastArgs:{},ret:{}},N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(F.lastArgs.vCount===t&&F.lastArgs.size===e)return F.ret;F.lastArgs={vCount:t,size:e};for(var i=[],n=0;n<t;n++)i.push(new y(e*Math.cos(2*n*Math.PI/t),e*Math.sin(2*n*Math.PI/t)));for(var s=0,a=0,r=0;r<t;r++){var o=i[r],c=i[(r+1)%t],l=o.cross(c),h=l/2,u=h*(o.sqrLength+o.dot(c)+c.sqrLength);s+=h,a+=u}return F.ret={mass:s,inertia:a},F.ret},z=function(t){var e=t.children;return Object(n.jsx)("div",{className:"bg-red-600 px-2 py-1 text-justify text-yellow-100 border-gray-900 border rounded mb-2 col-span-full",children:e})},I=function(t){var e=t.world,i=t.reset,a=Object(s.useState)(!1),r=Object(c.a)(a,2),o=r[0],l=r[1],h=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(o){var t={},e=Object(u.a)((function(e){t={x:e.pageX,y:e.pageY},h.current.style.left=t.x+"px",h.current.style.top=t.y+"px"})),i=function(){o(t.x,t.y),e.cancel(),h.current.style.left=0,h.current.style.top=0,l(!1)};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",i),function(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",i)}}}),[o]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O.d,{initialValues:{"v-count":6,"v-size":50,angle:0,mass:N(6,50).mass,inertia:N(6,50).inertia,kinetic:!0,gravity:!0,vx:0,vy:0,vw:0,ax:0,ay:0,aw:0,px:0,py:0},initialTouched:{"v-count":!0,"v-size":!0,mass:!0,inertia:!0},validationSchema:Object(w.c)({"v-count":Object(w.b)().moreThan(2).lessThan(20).integer().required().label("Vertex count"),"v-size":Object(w.b)().moreThan(0).lessThan(150).integer().required().label("Vertex size"),angle:Object(w.b)().moreThan(-361).lessThan(361).required().label("Angle"),mass:Object(w.b)().transform((function(t,e){return"Infinity"===e?1/0:t})).positive().required().label("Mass"),inertia:Object(w.b)().transform((function(t,e){return"Infinity"===e?1/0:t})).positive().required().label("Inertia"),kinetic:Object(w.a)().required(),gravity:Object(w.a)().required(),vx:Object(w.b)().default(0).transform((function(t,e){return"-"===e?0:t})).required().label("Velocity X"),vy:Object(w.b)().default(0).transform((function(t,e){return"-"===e?0:t})).required().label("Velocity Y"),vw:Object(w.b)().default(0).transform((function(t,e){return"-"===e?0:t})).required().label("Radial velocity"),ax:Object(w.b)().default(0).transform((function(t,e){return"-"===e?0:t})).required().label("Acceleration X"),ay:Object(w.b)().default(0).transform((function(t,e){return"-"===e?0:t})).required().label("Acceleration Y"),aw:Object(w.b)().default(0).transform((function(t,e){return"-"===e?0:t})).required().label("Radial acceleration"),px:Object(w.b)().required().label("Center X"),py:Object(w.b)().required().label("Center Y")}),onSubmit:function(t){var i=t["v-count"],n=t["v-size"],s=t.angle,a=t.mass,r=t.inertia,o=t.kinetic,c=t.gravity,l={x:t.px,y:t.py},h={x:parseFloat(t.vx)||0,y:parseFloat(t.vy)||0,r:parseFloat(t.vw)||0},u={x:parseFloat(t.ax)||0,y:parseFloat(t.ay)||0,r:parseFloat(t.aw)||0},v=new j({vCount:i,size:n,angle:s,mass:a,inertia:r,kinetic:o,gravity:c,center:l,v:h,a:u});e.addShapes(v)},children:function(t){return Object(n.jsxs)(O.c,{className:M.a.Form,children:[Object(n.jsx)("h2",{className:"block text-center text-xl py-1 text-green-700 font-semibold border-b-2 border-gray-400 ",children:"Add a polygon"}),Object(n.jsxs)("div",{className:"grid gap-1",style:{gridTemplateColumns:"1fr 2fr"},children:[Object(n.jsx)("label",{htmlFor:"v-count",children:"Vertex count:"}),Object(n.jsx)("input",{id:"v-count",name:"v-count",type:"number",style:{minWidth:"40px"},onBlur:t.handleBlur,value:t.values["v-count"],onChange:function(e){var i=e.target.valueAsNumber,n=N(i,t.values["v-size"]);t.setValues((function(t){return Object(p.a)(Object(p.a)(Object(p.a)({},t),n),{},{"v-count":i})}),!0)}}),Object(n.jsx)(O.a,{name:"v-count",component:z}),Object(n.jsx)("label",{htmlFor:"v-size",children:"Vertex size:"}),Object(n.jsx)("input",{id:"v-size",name:"v-size",type:"number",style:{minWidth:"40px"},onBlur:t.handleBlur,value:t.values["v-size"],onChange:function(e){var i=e.target.valueAsNumber,n=N(t.values["v-count"],i);t.setValues((function(t){return Object(p.a)(Object(p.a)(Object(p.a)({},t),n),{},{"v-size":i})}),!0)}}),Object(n.jsx)(O.a,{name:"v-size",component:z}),Object(n.jsx)("label",{htmlFor:"angle",children:"Initial angle:"}),Object(n.jsx)(O.b,{style:{minWidth:"40px"},id:"angle",name:"angle",type:"number"}),Object(n.jsx)(O.a,{name:"angle",component:z}),Object(n.jsx)("label",{htmlFor:"mass",children:"Mass:"}),Object(n.jsx)(O.b,{style:{minWidth:"40px"},id:"mass",name:"mass"}),Object(n.jsx)(O.a,{name:"mass",component:z}),Object(n.jsx)("label",{htmlFor:"inertia",children:"Inertia:"}),Object(n.jsx)(O.b,{style:{minWidth:"40px"},id:"inertia",name:"inertia"}),Object(n.jsx)(O.a,{name:"inertia",component:z})]}),Object(n.jsxs)("div",{className:"grid grid-cols-2",children:[Object(n.jsxs)("label",{htmlFor:"kinetic",children:[Object(n.jsx)(O.b,{id:"kinetic",name:"kinetic",type:"checkbox"})," Kinetic"]}),Object(n.jsxs)("label",{htmlFor:"gravity",children:[Object(n.jsx)(O.b,{id:"gravity",name:"gravity",type:"checkbox"})," Gravity applies"]})]}),t.values.kinetic&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("legend",{className:M.a.Legend,children:"Initial Speed"}),Object(n.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[Object(n.jsx)("label",{htmlFor:"vx",children:"X: "}),Object(n.jsx)("label",{htmlFor:"vy",children:"Y: "}),Object(n.jsx)("label",{htmlFor:"vw",children:"W: "}),Object(n.jsx)(O.b,{style:{minWidth:"20px"},id:"vx",name:"vx"}),Object(n.jsx)(O.b,{style:{minWidth:"20px"},id:"vy",name:"vy"}),Object(n.jsx)(O.b,{style:{minWidth:"20px"},id:"vw",name:"vw"}),Object(n.jsx)(O.a,{name:"vx",component:z}),Object(n.jsx)(O.a,{name:"vy",component:z}),Object(n.jsx)(O.a,{name:"vw",component:z})]}),Object(n.jsx)("legend",{className:M.a.Legend,children:"Initial Acceleration"}),Object(n.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[Object(n.jsx)("label",{htmlFor:"ax",children:"X: "}),Object(n.jsx)("label",{htmlFor:"ay",children:"Y: "}),Object(n.jsx)("label",{htmlFor:"aw",children:"W: "}),Object(n.jsx)(O.b,{style:{minWidth:"20px"},id:"ax",name:"ax"}),Object(n.jsx)(O.b,{style:{minWidth:"20px"},id:"ay",name:"ay"}),Object(n.jsx)(O.b,{style:{minWidth:"20px"},id:"aw",name:"aw"}),Object(n.jsx)(O.a,{name:"ax",component:z}),Object(n.jsx)(O.a,{name:"ay",component:z}),Object(n.jsx)(O.a,{name:"aw",component:z})]})]}),Object(n.jsx)("legend",{className:M.a.Legend,children:"Position"}),Object(n.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[Object(n.jsx)("label",{htmlFor:"px",children:"X: "}),Object(n.jsx)("label",{htmlFor:"py",children:"Y: "}),Object(n.jsx)(O.b,{style:{minWidth:"20px"},id:"px",name:"px"}),Object(n.jsx)(O.b,{style:{minWidth:"20px"},id:"py",name:"py"}),Object(n.jsx)(O.a,{name:"px",component:z}),Object(n.jsx)(O.a,{name:"py",component:z}),Object(n.jsx)("button",{className:M.a.Button+" row-start-1 row-span-2 col-start-3 rounded-sm bg-indigo-500 hover:bg-indigo-400",onMouseDown:function(){l((function(){return function(e,i){t.setFieldValue("px",e),t.setFieldValue("py",i)}}))},children:Object(n.jsx)(k,{width:35,height:35})})]}),Object(n.jsx)("button",{className:M.a.Button+" py-1 mt-2 font-semibold bg-green-500 hover:bg-green-400",type:"submit",children:"Add"}),Object(n.jsx)("button",{className:M.a.Button+" py-1 mt-2 font-semibold bg-red-500 hover:bg-red-400",type:"button",onClick:i,children:"Reset"})]})}}),o&&Object(n.jsx)("div",{ref:h,className:"z-20 fixed transform -translate-x-1/2 -translate-y-1/2 select-none",style:{left:-500},children:Object(n.jsx)(k,{width:60,height:60})})]})};var P=function(){var t=Object(s.useState)(null),e=Object(c.a)(t,2),i=e[0],a=e[1],r=Object(s.useState)(null),o=Object(c.a)(r,2),l=o[0],h=o[1];Object(s.useEffect)((function(){h([Object(n.jsx)(g,{setWorld:a},Math.random())])}),[]);var u=Object(s.useCallback)((function(){h([Object(n.jsx)(g,{setWorld:a},Math.random())])}),[]);return Object(n.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"3fr 1fr",height:"95vh",maxHeight:"100vh"},children:[l,Object(n.jsx)(I,{world:i,reset:u})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(P,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[78,1,2]]]);
//# sourceMappingURL=main.8156b137.chunk.js.map